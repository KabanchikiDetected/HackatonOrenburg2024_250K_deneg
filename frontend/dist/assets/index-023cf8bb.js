import{r as s,j as e}from"./index-97c9ff3f.js";const p=()=>{const[r,l]=s.useState([]),[n,a]=s.useState({photoPreview:"",name:"",birthday:"",university:"",faculty_id:"",department:"",about:""}),i=s.useRef(null);function o(t){a({...n,photoPreview:URL.createObjectURL(t.target.files[0])})}async function c(){let t=await fetch("/api/students/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(n)});t.ok&&(t=await t.json()),console.log(t)}return s.useLayoutEffect(()=>{async function t(){const d=await(await fetch("/api/universities/university/")).json();l(d)}t()},[]),e.jsxs("main",{className:"student-reg reg",children:[e.jsxs("div",{className:"reg__row",children:[e.jsxs("div",{className:"avatar",children:[e.jsx("img",{src:n.photoPreview,alt:""}),e.jsx("input",{value:"",onChange:t=>o(t),style:{display:"none"},ref:i,type:"file"}),e.jsx("button",{onClick:()=>i.current.click(),children:"Добавить фото"})]}),e.jsxs("div",{className:"info",children:[e.jsx("label",{htmlFor:"name",children:e.jsx("p",{children:"Имя и фамилия"})}),e.jsx("input",{id:"name",value:n.name,onChange:t=>a({...n,name:t.target.value}),type:"text"}),e.jsx("label",{htmlFor:"university",children:e.jsx("p",{children:"Университет"})}),e.jsx("select",{name:"university",id:"",children:r.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))}),e.jsx("label",{htmlFor:"faculty",children:e.jsx("p",{children:"Факультет"})}),e.jsx("select",{name:"faculty",id:"",children:e.jsx("option",{value:"ИМИТ",children:"ИМИТ"})}),e.jsx("label",{htmlFor:"department",children:e.jsx("p",{children:"Кафедра"})}),e.jsx("select",{name:"department",id:"",children:e.jsx("option",{value:"ПОВТАЗ",children:"ПОВТАЗ"})})]})]}),e.jsx("textarea",{value:n.about,onChange:t=>a({...n,about:t.target.value}),placeholder:"О себе"}),e.jsx("br",{}),e.jsx("button",{onClick:c,children:"Зарегистрироваться"})]})};export{p as default};
