import{r as i,_ as c,j as l}from"./index-b1e3b5eb.js";class s extends Error{}s.prototype.name="InvalidTokenError";function d(r){return decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function p(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return d(e)}catch{return atob(e)}}function f(r,e){if(typeof r!="string")throw new s("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,o=r.split(".")[t];if(typeof o!="string")throw new s(`Invalid token specified: missing part #${t+1}`);let a;try{a=p(o)}catch(n){throw new s(`Invalid token specified: invalid base64 for part #${t+1} (${n.message})`)}try{return JSON.parse(a)}catch(n){throw new s(`Invalid token specified: invalid json for part #${t+1} (${n.message})`)}}const _=i.lazy(()=>c(()=>import("./index-e6118d99.js"),["assets/index-e6118d99.js","assets/index-b1e3b5eb.js","assets/index-3a9a66b4.css","assets/index-8e4fe2dc.js","assets/index-aa0ad436.css","assets/index-c0811aa6.css"])),g=i.lazy(()=>c(()=>import("./index-41167c15.js"),["assets/index-41167c15.js","assets/index-b1e3b5eb.js","assets/index-3a9a66b4.css","assets/index-8e4fe2dc.js","assets/index-aa0ad436.css","assets/index-a964b02f.js","assets/index-5f6a7136.css","assets/index-b2e049ba.css"])),h=i.lazy(()=>c(()=>import("./index-087a1f14.js"),["assets/index-087a1f14.js","assets/index-b1e3b5eb.js","assets/index-3a9a66b4.css","assets/index-8e4fe2dc.js","assets/index-aa0ad436.css","assets/index-b0b1c011.css"])),v=i.lazy(()=>c(()=>import("./index-171a776f.js"),["assets/index-171a776f.js","assets/index-b1e3b5eb.js","assets/index-3a9a66b4.css","assets/index-6224260d.css"])),m=()=>{const[r,e]=i.useState("");if(i.useLayoutEffect(()=>{let t=localStorage.getItem("token"),o=f(t).role;async function a(){if(o==="user"){let u=(await fetch("/api/universities/my/education/",{headers:{Authorization:`Bearer ${t}`}})).ok;e(u?"user-profile":"user-reg")}else if(o==="deputy"){let u=(await fetch("/api/universities/my/university/",{headers:{Authorization:`Bearer ${t}`}})).ok;e(u?"uni-profile":"uni-reg")}}a()},[]),r==="user-reg")return l.jsx(v,{});if(r==="user-profile")return l.jsx(h,{});if(r==="uni-reg")return l.jsx(g,{});if(r==="uni-profile")return l.jsx(_,{})};export{m as default};
