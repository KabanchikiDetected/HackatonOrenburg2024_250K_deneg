import{r as i,_ as c,j as d}from"./index-97c9ff3f.js";class a extends Error{}a.prototype.name="InvalidTokenError";function u(o){return decodeURIComponent(atob(o).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function p(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return u(e)}catch{return atob(e)}}function f(o,e){if(typeof o!="string")throw new a("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=o.split(".")[t];if(typeof r!="string")throw new a(`Invalid token specified: missing part #${t+1}`);let n;try{n=p(r)}catch(s){throw new a(`Invalid token specified: invalid base64 for part #${t+1} (${s.message})`)}try{return JSON.parse(n)}catch(s){throw new a(`Invalid token specified: invalid json for part #${t+1} (${s.message})`)}}i.lazy(()=>c(()=>import("./index-9a2dc2e2.js"),["assets/index-9a2dc2e2.js","assets/index-97c9ff3f.js","assets/index-3a9a66b4.css","assets/index-978b0906.js","assets/index-aa0ad436.css","assets/index-c0811aa6.css"]));i.lazy(()=>c(()=>import("./index-244250b6.js"),["assets/index-244250b6.js","assets/index-97c9ff3f.js","assets/index-3a9a66b4.css","assets/index-5755b132.css"]));const _=i.lazy(()=>c(()=>import("./index-f73af413.js"),["assets/index-f73af413.js","assets/index-97c9ff3f.js","assets/index-3a9a66b4.css","assets/index-978b0906.js","assets/index-aa0ad436.css","assets/index-bf83ba76.css"]));i.lazy(()=>c(()=>import("./index-023cf8bb.js"),["assets/index-023cf8bb.js","assets/index-97c9ff3f.js","assets/index-3a9a66b4.css","assets/index-3234ceea.css"]));const g=()=>{const[o,e]=i.useState("");return i.useLayoutEffect(()=>{let t=localStorage.getItem("token"),r=f(t).role;async function n(){if(r==="user"){let l=(await fetch("/api/universities/my/education/",{headers:{Authorization:`Bearer ${t}`}})).ok;e(l?"user-profile":"user-reg")}else if(r==="deputy"){let l=(await fetch("/api/universities/my/university/",{headers:{Authorization:`Bearer ${t}`}})).ok;e(l?"user-profile":"user-reg")}}n()},[]),d.jsx(_,{})};export{g as default};
